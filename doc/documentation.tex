\documentclass [pdftex,12pt] {report}
\usepackage [utf8]{inputenc}
\usepackage [french] {babel}
\usepackage[pdftex]{graphicx}
\usepackage{sidecap}
\usepackage{float}
\usepackage{natbib,hyperref}
\usepackage{indentfirst}
\usepackage[T1]{fontenc} 
\usepackage{amsfonts}
\usepackage{listings}
\usepackage{color}
\usepackage{textcomp}
\definecolor{gray}{rgb}{0.4,0.4,0.4}
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\definecolor{cyan}{rgb}{0.0,0.6,0.6}

\lstset{
  basicstyle=\ttfamily,
  columns=fullflexible,
  showstringspaces=false,
  commentstyle=\color{gray}\upshape
}

\lstdefinelanguage{XML}
{
  morestring=[b]",
  morestring=[s]{>}{<},
  morecomment=[s]{<?}{?>},
  stringstyle=\color{black},
  identifierstyle=\color{darkblue},
  keywordstyle=\color{cyan},
  morekeywords={xmlns,version,type}
}

\def\wl{\par \vspace{\baselineskip}}
\renewcommand{\lstlistingname}{Code}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\bibliographystyle{unsrt}
\begin {document}

% Include the front page
\input{./frontpage.tex}

\newpage

\begin{abstract}
Ce document décrit le travail réalisé dans le contexte de notre projet de programmation. Le but de ce projet est de réaliser une application Android permettant d'accéder aux informations pertinentes des différents établissements du campus (Laboratoires, Universités, Ecoles). L'utilisateur choisit les établissements pour lesquels il veut accéder aux informations (dans un premier temps il n'y aura que Bordeaux 1 et LaBRI). L'application permet ensuite d'accéder aux annonces d'événements (en offrant la possibilité des les ajouter à l'agenda) et aux annuaires (en offrant la possibilité d'ajouter aux contacts du téléphone) sélectionnés. \\
L'idée est donc de rendre les informations liées aux établissements choisis plus faciles d'accès via un smartphone Android, afin de répondre à un besoin en déplacement, en donnant la possibilité d'enregistrer les informations importantes, et de les intégrer aux applications natives du téléphone, pour permettre une utilité de l'application lorsqu'une connexion internet n'est pas disponible.
\end{abstract}


\vspace{2cm}
\tableofcontents
\newpage 

\chapter{Etude de l'existant}
\section{Références}


\subsection{Android Application Development}
L'ouvrage \emph{Android Application Development}~\cite{AndroidBook} est considéré comme l'une des références majeures dans le domaine du développement des applications sur Android.
Il présente notamment l'architecture du système d'opération Android, ainsi que les différentes phases de développement des applications utilisateurs.

\subsection{Site officiel de la SDK Android}
Le site officiel de la SDK Android~\cite{AndroidSDK} met à disposition des développeurs une panoplie d'outils et de références.
Ce site présente ses divers services, notamment les API d'Android et autres services de Google. On y trouve aussi plusieurs domaines d'application utilisés aujourd'hui qu'on peut intégrer dans notre application.

\subsection{Article sur les applications mobiles des universités}
Cet article sur les applications mobiles des universités~\cite{Article} décrit les différentes contraintes liées au développement des applications mobiles d'universités. Etant donné que les étudiants sont de plus en plus équipés de smartphones, il devient intéressant de mettre en place une application mobile qui offre divers services utiles et faciles d'accès.


\section{Applications existantes}

\subsection{uMontréal}
Cette application propriétaire de l'université de Montréal~\cite{uMontreal} met à disposition de ses étudiants de nombreux services, tels que des flux d'actualités, un annuaire, un calendrier, et le plan du campus.

\subsection{Plateforme Blackboard}
Cette plateforme de développement est utilisée par la majorité des applications campus mobiles aux Etats-Unis~\cite{Blackboard}. On considère par exemple iStandford~\cite{iStanford}, application Android qui présente de nombreux services (internes et externes), dans la même philosophie que l'application uMontréal.

\subsection{gReader, lecteur de flux RSS}
Ce lecteur de flux RSS~\cite{gReader} offre une interface sobre et pratique pour gérer les abonnements aux flux RSS. Notre développement de l'interface graphique pourra s'inspirer du système des onglets et des toolbars de cette application.

\subsection{Lecteurs de flux RSS open-source}
Il existe déjà plusieurs lecteurs de flux RSS open-source, tels que Feedgoal~\cite{Feedgoal} et Android-RSS~\cite{Android-RSS}. les deux étant sous license GNU GPL (v2 et v3, respectivement). On pourra étudier s'il est rentable de reprendre quelques modules, ou de repartir sur notre propre base.


\section{Ressources existantes}

\subsection{LDAP}
Le protocole LDAP est une ressource potentiellement importante à la conception de notre application, notamment pour la mise en oeuvre de l'annuaire. LDAP signifie Lightweight Directory Access Protocol; c'est donc un protocole conçu uniquement pour les annuaires, et l'annuaire du LaBRI s'avère être conforme aux normes LDAP.
Ce sera donc une des technologies importantes à explorer afin de réaliser une réponse robuste au parsage de l'annuaire du LaBRI.\\
Nous nous sommes posés la question de l'accessibilité de l'annuaire venant de l'extérieur, au format LDAP, cependant nous avons trouvé une page d'aide sur un forum du LaBRI\cite{labriForum} qui pourrait donner une solution éventuelle.

\subsection{HTTP/HTML}
Une alternative au protocole LDAP serait d'effectuer des requêtes HTTP, afin de parser des pages HTML. Cette méthode pourrait répondre aux besoins de parser les annuaires dont il en est question, si jamais nous ne pouvons nous reposer sur le LDAP. Le problème posé par cette méthode repose dans la robustesse de la solution. C'est-à-dire qu'un changement de l'implémentation des pages (changement/mise à jour des balises, ou même un changement de forme) pourrait rendre l'application inutilisable. L'utilisation de cette méthode demande énormément de travail de généricité du parsage des pages.
Ceci pose plusieurs problèmes, notamment sur l'imprévisibilité des changements potentielles dans les pages. Il est impossible de prévoir à 100\% les modifications qui pourraient avoir lieu sur les pages, et donc l'application pourrait rapidement devenir inutilisable. Il sera nécessaire de s'inspirer voire de réutiliser certains codes de web crawlers open source afin d'assurer d'avoir une application aussi robuste qu'elle puisse l'être en parsant des pages HTML.


\subsection{Analyse textuelle}
Au cours de l'implémentation de cette application, nous pourrions être amenés à effectuer de l'analyse textuelle sur des textes afin d'en extraire les informations dont nous avons besoin, par exemple si une date n'est pas au sein d'une balise facilement repérable/exploitable. Il faudra donc peut-être tenter d'extraire des dates des textes disponibles. Celà pose plusieurs problèmes:
\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
  \item Le texte peut faire référence à un événement passé, simplement à titre informatif, auquel cas, une date extraite n'aurait pas nécessairement de valeur à l'exploitation avec notre application.
  \item Le texte peut contenir plusieurs dates, faisant référence à plusieurs événements passés, présents, ou futurs et il sera donc difficile d'exploiter les informations et de découper le texte en plusieurs événements, ou encore d'extraire la date pertinente à l'événement.
  \item Le texte peut ne contenir aucune date, n'étant simplement qu'une information quelconque.
\end{itemize}
\wl Les événements inscrits dans les flux RSS du site de Bordeaux 1 possèdent une balise \emph{pubDate}, qui devrait faire référence à la date de publication des articles, mais nous avons remarqué que pour la plupart des articles (notamment pour toutes les soutenances), cette date a été modifiée pour correspondre à la date de la soutenance. Cependant, ce n'est pas toujours le cas pour l'horaire. Certains articles possèdent des horaires qui correspondent à celle de l'événement (comme pour les soutenances, par exemple), mais d'autres ont un horaire qui ne correspond pas avec l'horaire de l'événement. Nous avons donc tiré la conclusion que l'horaire correspond parfois à l'horaire de publication de l'article. \\
Il sera donc possible de comparer les dates et horaires extraites par analyse textuelle avec les informations contenues dans la balise \emph{pubDate} afin d'augmenter le taux de réussite de la proposition de date au moment de l'ajout dans l'agenda du smartphone. \\

\lstset{language=XML}
\begin{lstlisting}[frame=single, caption=Extrait d'un flux RSS de Bordeaux1 (29/01/2013), label=xml1]
<item>
  <title>Trophees du sport</title>
  <link>...</link>
  <description>
	Pour la 3e annee consecutive...
  </description>
  <content:encoded>
    <![CDATA[
      Ils seront recompenses a l occasion des Trophees du sport
      le jeudi 31 janvier 2013 a 18h dans l Atrium...
    ]]>
  </content:encoded>	
  <pubDate>Thu, 31 Jan 2013 15:08:00 +0100</pubDate>
</item>
\end{lstlisting}

\wl Sur cet exemple, l'heure qui apparait dans la balise \emph{pubDate} ne correspond pas à celle de l'événement; il va donc falloir analyser la description pour essayer de trouver l'horaire correspondant (ici 18h). \\

Il existe plusieurs outils utiles à l'implémentation d'une solution à ce problème, notamment JFlex/CUP. Ces outils ressortent pour nous, car leur utilisation nous est déjà familière. Cependant, on peut se poser la question sur la possibilité de les utiliser au sein d'un téléphone Android. Dans le cas contraire, nous pensons également explorer l'utilisation des librairies Android de correction automatique, afin de trouver une solution plus native aux téléphones. \\
Etant donné ces problèmes, nous devrons surement trouver une approximation au problème, car nous ne pourrons proposer la bonne date à chaque fois qu'un utilisateur souhaite ajouter un élément à son agenda. Il sera donc parfois nécessaire de créer un menu qui s'ouvre automatiquement afin de proposer les dates qui ont été détectées par notre algorithme, et qui donne la possibilité à l'utilisateur de saisir sa propre date (ainsi on réduit de manière conséquente la marge d'erreur sur l'entrée finalisée dans l'agenda). \\



\chapter{L'Application CampusUB1}
\section{Aperçu de l'application}

\subsection{Actualités}
Une des fonctionalités principales de l'application est la récupération, l'affichage et l'enregistrement des événements dans le calendrier de l'utilisateur. 
Pour cela, nous prévoyons de récuperer les flux RSS les plus utiles de l'université Bordeaux 1\cite{fluxBDX1}, notamment les flux disponibles sur la page d'accueil du site de l'université (dont les actualités).
En ce qui concerne le site du LaBRI, il n'y a aucun flux RSS et il faudra donc parser directement du HTML.

\subsection{Annuaire}
Il sera également possible de consulter les annuaires des établissements concernés, afin d'en extraire les informations désirées et les ajouter aux contacts du smartphone.
Afin d'implémenter l'annuaire au sein de notre application Android, il est évident qu'il faut exploiter les annuaires de Bordeaux 1~\cite{AnnuaireBdx1} et du LaBRI. Vu que les accès aux bases de données ne peuvent pas nous être communiqués, nous pensons intégrer l'annuaire à travers des requêtes GET, dans le but de parser les résultats obtenus. Pour le moment ceci semble être la meilleure solution envisageable.

\subsection{Utilitaires}
Dans un deuxième temps, nous prévoyons de mettre en place un plan du campus, potentiellement intégré à l'application Maps du smartphone.
Finalement, nous parserons les fichiers XML des emplois du temps\cite{EdTxml}, afin de mettre à disposition une copie locale de l'emploi du temps dans l'agenda du smartphone.


\chapter{Analyse des besoins}

Nous allons analyser dans ce chapitre les différents besoins fonctionnels et non-fonctionnels de notre application.\\
Nous allons donc utiliser un système de points pour évaluer la priorité et la faisabilité des tâches. On se basera sur une séquence de Fibonacci arrondie (1, 2, 3, 5, 8, 13, 20, 40, 60, 100), avec 100 reflétant un besoin de priorité maximale, et d'une grande faisabilité.
\section{Besoins fonctionnels}
\subsection{Fonctionnalités principales}
\subsubsection{Choix de l'établissement}
Etant donné que l'application présentera des services pour deux établissements différents, l'utilisateur doit pouvoir naviguer entre les établissements, s'il souhaite accéder à leurs services et informations [Fig.~\ref{fig:01}]. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 100/100
\item Faisabilité: 100/100
\item Risques: mise à jour des URLs si les adresses des établissements sont modifiées.
\item Validation: s'assurer que les sélections et les changements d'établissements s'effectuent correctement.
\end{itemize}

\subsubsection{Gestion des actualités}
En accédant au menu des actualités, l'utilisateur disposera d'une interface à travers laquelle il recevra le flux des actualités de l'établissement [Fig.~\ref{fig:02}]. L'utilisateur doit pouvoir lire l'annonce de ces événements [Fig.~\ref{fig:03}], et doit pouvoir facilement rajouter cet événement au calendrier de son smartphone (Google Calendar). Cette action redirigera l'utilisateur vers le calendrier, dans lequel l'événement sera créé avec les informations récoltées. L'utilisateur pourra donc modifier, valider ou annuler la procédure. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 100/100
\item Faisabilité: 60/100
\item Difficultés techniques: extraction des informations pertinentes.
\item Risques: changement de structure du contenu à parser (flux RSS et pages HTML).
\item Validation: assurer l'intégrité des informations extraites.
\end{itemize}

\subsubsection{Accès à l'annuaire}
L'utilisateur doit pouvoir effectuer facilement les tâches suivantes:
\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Rechercher un contact dans l'annuaire par son nom et/ou prénom.
\item Visualiser les informations d'un contact.
\item Rajouter un contact à la liste des contacts de l'utilisateur (créer un nouveau contact ou éditer existant).
\item Envoyer un mail au contact.
\item Appeler la personne (si un numéro de téléphone est disponible).
\end{itemize}
Lors de l'ajout d'un contact, l'utilisateur sera redirigé vers la page de création d'un nouveau contact, dans laquelle les champs pertinents seront pré-remplis, en fonction des informations collectées. L'utilisateur pourra donc modifier, valider ou annuler la procédure. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 100/100
\item Faisabilité: 60/100
\item Difficultés techniques:
\begin{itemize}
\item Avec LDAP: mise en place du protocole.
\item Sans LDAP: parsage des informations.
\end{itemize} 
\item Risques: changement de structure du contenu à parser.
\item Validation: assurer l'intégrité des informations extraites.
\end{itemize}

\subsubsection{Mises à jour}
Notre application pouvant fonctionner hors connexion, les mises à jour de flux RSS étant de type pull, il est important de proposer les mises à jour sur les flux que nous parsons. Par exemple après une longue période sans connexion nous pourrons sauter sur l'occasion de proposer des mises à jour des flux dès que l'utilisateur ouvre l'application et qu'une connexion internet est disponible. Une autre solution serait de mettre à disposition un bouton \emph{refresh} pour que l'utilisateur puisse effectuer une demande de mise à jour (option préférable pour les personnes ayant un forfait internet limité, ou encore pour l'utilisation à l'étranger). Nous pourrions également proposer une solution intermédiaire, où l'application effectue des mises à jour régulières lorsqu'elle est connectée sur un réseau via le WiFi, mais requiert une demande explicite si le réseau est de type 3G. \\
L'application devra garder en mémoire les derniers éléments téléchargés pendant un mois après la date de l'événement(durée à revoir éventuellement). Ainsi lorsque l'on n'a pas accès à internet, on pourra accèder à ceux-ci. De plus, lors des mises à jour, on téléchargera uniquement les nouveaux événements. Ceci permettra à l'application d'économiser du temps d'éxécution, et potentiellement du crédit à l'utilisateur. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 100/100
\item Faisabilité: 60/100
\item Risques: mauvaise gestion de la mémoire.
\item Difficultés techniques: éviter de télécharger de nouveau des informations déja collectées.
\item Validation: vérifier l'intégration des nouvelles informations.
\end{itemize}


\subsection{Fonctionnalités secondaires}
Dans un deuxième temps, nous comptons implémenter quelques optionalités supplémentaires, qui ne rentrent pas dans le cadre du projet initial, mais qu'on estime être assez pratiques et utiles, et permettront de compléter l'application.

\subsubsection{Emploi du temps}
L'utilisateur étudiant doit pouvoir récupérer son emploi de temps du semestre et l'intégrer à Google Calendar. Il doit pouvoir indiquer sa filière, et éventuellement ses cours et ses groupes. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 1/100
\item Faisabilité: 40/100
\item Difficultés techniques: extraction des informations en fonction du choix de l'utilisateur.
\item Risques: changement du format de l'emploi du temps.
\item Validation: assurer l'intégrité des données extraites.
\end{itemize}

\subsubsection{Plan du campus}
L'utilisateur pourra naviguer sur le plan du campus en utilisant Google Maps. L'utilisateur disposera des pointeurs vers les bâtiments principaux du campus. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 1/100
\item Faisabilité: 40/100
\item Difficultés techniques: maîtriser l'API de Google Maps.
\end{itemize}



\section{Besoins non fonctionnels}
\subsection{Besoins de performance}
L'application CampusUB1 est destinée à toute personne étudiant ou travaillant sur le campus de l'université. Elle devra donc être capable de tourner sur les derniers smartphones, tout en restant compatible avec des smartphones plus anciens et donc moins puissants puisque tout étudiant n'a pas forcément les moyens d'aborder un smartphone récent ayant une forte puissance de calcul et une grande quantité de RAM. CampusUB1 ne sera donc pas gourmande en ressources et pourra exécuter ces services de manière assez rapide même sur les smartphones moins performants.\\
Nous testerons l'application sur les appareils suivants: LG Optimus 2X (P990), Sony Xperia S, Samsung Galaxy S2.

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 20/100
\item Faisabilité: 60/100
\item Difficultés techniques: bonne gestion de l'espace mémoire et de l'actualisation.
\item Risques: implémention complexe et potentiellement longue.
\item Validation: vérification que l'utilisation reste assez fluide et ne consomme pas beaucoup de ressources (à préciser un seuil de consommation de RAM).
\end{itemize}  

\subsection{Besoins de fiabilité}
Etant donné que les différents services mis à disposition par CampusUB1 à ses clients s'avèrent souvent être d'un besoin professionnel, il est essentiel que les données affichées soient cohérentes et en accord avec les données d'origine. Si un chercheur du LaBRI recherche depuis notre application le numéro de la salle où a lieu sa conférence, il a tout intérêt à récupérer une information correcte. CampusUB1 ne peut tout de même pas garantir l'exactitude de toutes les informations données et ne se tient donc pas responsable d'éventuelles erreurs, sachant que l'application se base sur des algorithmes de reconnaissance de textes qui peuvent eux-mêmes être erronés d'origine. Il est évident que certaines questions de sécurité courantes se posent sachant que l'application nécessite une connection à internet continue, mais vu que CampusUB1 utilise uniquement des données publiques dans les services qu'elle fournit, la question de confidentialité des données ne se pose pas. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 60/100
\item Faisabilité: 20/100
\item Difficultés techniques: fiabilité de l'algorithme d'analyse textuelle pour détecter les dates des événements.
\item Risques: création d'un événement avec des données erronées.
\item Validation: simulation de l'algorithme d'analyse textuelle sur suffisamment de données pour avoir un taux de réussite acceptable (à déterminer).
\end{itemize}  

\subsection{Besoins d'intégrité de données}
CampusUB1 doit accéder à certaines ressources personnelles du client pour pouvoir fonctionner, ce qui pose un problème de protection des données. Le calendrier et le répertoire du client sont les ressources auxquelles l'application est susceptible d'accéder, et on devra s'assurer que toute perte éventuelle de données déjà existantes ne soit pas engendrée par une erreur provenant de l'application. L'erreur humaine étant évidemment toujours possible. Toute modification éventuelle de données privées de l'utilisateur se fera donc impérativement avec son avis. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 60/100
\item Faisabilité: 60/100
\item Risques: perte des informations existantes sur le smartphone.
\item Validation: monitoring du comportement de l'application.
\end{itemize} 


\subsection{Besoins organisationnels}
Etant donné que nous travaillerons sur la plateforme Android, le langage Java nous est imposé vu que l'API Android est fournie en Java.
L'IDE dans lequel nous avons choisi d'implémenter notre application est Eclipse pour de nombreuses questions pratiques. Les développeurs d'Android disposent d'un plugin officiel pour Eclipse, qui facilite le travail du développeur en lui fournissant une panoplie d'outils tels que les différentes perspectives dont celle de débogage qui nous sera très utile. Ce plugin comporte également un émulateur d'appareils Android, ce qui nous permettra de facilement tester l'application sur une multitude d'appareils virtuels. De plus, l'API Android est très documentée et est maintenue fréquemment.



\chapter{Diagrammes de fonctionnement}

\section{Diagramme des cas d'utilisation}

\begin{figure}[h]
  \center
  \includegraphics[width=0.8\textwidth]{resources/useCases.jpg}
\end{figure}

\newpage
Ce diagramme présente toutes les actions réalisables par l'utilisateur et leurs enchaînements.
Lorsque l'utilisateur démarre l'application pour la première fois, il choisit l'établissement auprès duquel il veut s'abonner pour accéder uniquement à ses services. Ce choix est alors retenu, et cette étape est donc omise lors des futurs démarrages de l'application. Une option existera tout de même pour modifier cette sélection si nécessaire. Depuis l'écran d'accueil, l'utilisateur pourra alors accéder aux services de son choix et pourra à tout moment revenir en arrière facilement.

\section{Diagramme des mises à jour}

\begin{figure}[h]
  \center
  \includegraphics[width=0.6\textwidth]{resources/state_diagram.jpg}
\end{figure}

Le diagramme de mises à jour représente les différents modes de connection dans lesquels on peut se trouver lorsqu'on accède aux événements. Il y a trois modes possibles gérés par le téléphone :\\
\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
 \item Hors Ligne : pas d'accès à internet.
 \item 3G :  accès au réseau de données mobiles (lent).
 \item WiFi : accès à un réseau sans-fil (rapide).
\end{itemize}

\section{Diagramme de Gantt}
Le diagramme de Gantt suivant présente une première estimation de la répartition des tâches sur le déroulement du projet.

\begin{table}[h!]
    \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
        \hline
        Tâches/semaines                       & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 \\ \hline
        Connexion aux sites Web               & S & S & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\ \hline
        Architecture de l'application         & E & E & E & ~ & ~ & ~ & ~ & ~ & ~ \\ \hline
        Parsage de flux RSS                   & ~ & T & T & ~ & ~ & ~ & ~ & ~ & ~ \\ \hline
        Interaction annuaire (LDAP)    		  & ~ & R & R & ~ & ~ & ~ & ~ & ~ & ~ \\ \hline
        Interaction annuaire (HTML)			  & ~ & ~ & R & R & R & ~ & ~ & ~ & ~ \\ \hline
        Interface Graphique                   & ~ & P & P & P & ~ & ~ & ~ & ~ & ~ \\ \hline
        Intégration des données				  & ~ & ~ & S & S & S & S & ~ & ~ & ~ \\ \hline
        Gestion des mises à jour              & ~ & ~ & E & E & E & ~ & ~ & ~ & ~ \\ \hline
        Analyse textuelle                     & ~ & ~ & ~ & T & T & T & T & ~ & ~ \\ \hline
        Fonction de recherche annuaire 		  & ~ & ~ & ~ & ~ & P & P & ~ & ~ & ~ \\ \hline
        Elaboration des tests                 & R & P & T & S & R & E & T & S & P \\ \hline
        Elaboration du rapport                & A & A & A & A & A & A & A & A & A \\ \hline
        Finalisation des tâches               & A & A & A & A & A & A & A & A & A \\
        \hline
    \end{tabular}
\end{table}
Chaque ligne est destinée à la répartition d'une tâche, et les colonnes représentent chacune une semaine du projet.\\
Les initiales représentent :\\
\begin{itemize}
\item A : Tout le monde
\item E : Elyas \textsc{Ben Hadj Yahia}
\item R : Ryan \textsc{Herbert}
\item P : Paul \textsc{Maribon-Ferret}
\item S : Stefan \textsc{Mijatovic}
\item T : Tatiana \textsc{Rocher}
\end{itemize}


\chapter{Tests et Validation}
  
  \section{Choix de l'Etablissement}
    Lors du premier lancement de l'application, un écran propose le choix entre les établissements disponibles~[Fig.~\ref{fig:01}]. Cet écran est aussi disponible lorsque on a déjà choisi un établissement, il suffit, depuis l'écran d'accueil~[Fig.~\ref{fig:02}], d'appuyer sur le logo de l'application en haut à gauche de l'écran.

    \subsection{Bordeaux 1}
      Sélectionnez \emph{Bordeaux 1}, l'application devrait vous rediriger vers le menu adapté pour la partie Bordeaux 1~[Fig.~\ref{fig:02}]. Au prochain démarrage de l'application, vous devriez arriver sur ce menu automatiquement.

    \subsection{LaBRI}
      Sélectionnez \emph{LaBRI}. La sélection de l'établissement LaBRI doit se comporter comme pour le choix de l'établissement Bordeaux 1, mais en redirigeant vers le menu LaBRI~[Fig.~\ref{fig:09}]. Au prochain démarrage de l'application, vous devriez être redirigés sur ce menu.

    \subsection{Sauvegarde du choix d'établissement}
      Après avoir fais votre choix, fermez l'application puis ouvrez-la de nouveau, vous devriez vous retrouver sur l'écran d'accueil de l'établissement que vous avez choisi.


  \section{Evénements (Bordeaux1 et LaBRI)}  
    Depuis l'écran d'accueil de votre établissement, appuyez sur le bouton \emph{Evénements}. Vous arrivez sur une liste d'événements propre à votre établissement.

    \subsection{Situation en ligne}
      L'application étant connectée à Internet, elle télécharge les derniers événements propres à l'établissement choisi (ceux qui n'ont pas encore été téléchargés) et les affiche~[Fig.~\ref{fig:03}]. Un toast s'affiche pour indiquer la date de la dernière mise à jour effectuée.

    \subsection{Situation hors ligne}
      L'application affiche l'historique des événements enregistrés de l'établissement choisi~[Fig.~\ref{fig:03}]. Un toast affiche la date de la dernière mise à jour effectuée.

    \subsection{Affichage en détail}
      Depuis la liste des événements~[Fig.~\ref{fig:03}], effectuez un \emph{slide} vers la gauche sur le résumé d'un événement pour afficher le contenu complet de l'événement choisi~[Fig.~\ref{fig:04}].

    \subsection{Ajout dans l'agenda depuis la vue détaillé de l'événement}
      Depuis l'écran des détails de l'événement, appuyez sur le bouton situé en haut à droite pour atteindre le formulaire d'ajout de l'événement dans l'agenda du smartphone. Ce dernier étant prérempli en fonction des détails fournis dans le texte. Vous pouvez ensuite rentrer les informations manquantes (par exemple changer de titre qui sera celui de l'événement, ...) puis valider. Vous pouvez, à partir de ce moment, aller regarder dans l'agenda du smartphone, l'événement devrait être ajouté aux horaires choisis.


    \subsection{Ajout dans l'agenda depuis la liste des événements}
      Depuis la liste des événements~[Fig.~\ref{fig:03}], appuyer un moment sur l'événement que vous voulez ajouter dans l'agenda et un menu apparaîtra. Celui-ci sera le même que précédement et les mêmes actions pourront être faites. Vous pourrez de nouveau aller dans l'agenda du smartphone, l'événement sera présent aux horaires entrés.

  \section{Contacts (Bordeaux1 et LaBRI)}

    Depuis l'écran d'accueil de votre établissement, appuyez sur le bouton \emph{Annuaire}. Vous arrivez sur une page contenant une barre de recherche~[Fig.~\ref{fig:06}].

    \subsection{Recherche d'un contact}
      Si vous n'avez pas d'accès à Internet, aucun nom ne s'affiche et un toast vous indique que vous n'êtes pas connecté.
      Dans le cas contraire, les premiers noms de l'annuaire de l'établissement apparaissent. Dans la barre de recherche entrez le nom et/ou le prénom de la personne souhaitée. L'application cherche dans l'annuaire de l'établissement et vous propose les résultats correspondants.    

    \subsection{Ajout dans l'annuaire du smartphone}
      Après avoir trouvé le contact recherché (voir section précédente), appuyez sur ce contact et un menu s'ouvre. Celui-ci propose soit d'ajouter les informations à un contact existant, soit d'en créer un nouveau.\\
      \begin{itemize}
      \renewcommand{\labelitemi}{$\bullet$}
      \item Nouveau contact: Redirection vers la page de création d'un nouveau contact, avec les champs pré-remplis avec les informations récupérées.
      \item Editer existant: Redirection vers la page des contacts. L'utilisateur doit sélectionner le contact qu'il veut mettre à jour. 
      \end{itemize}
      \wl Une fois validé, on peut vérifier en s'assurant que le contact est bien créé et que les informations sont mises à jour.

    \subsection{Appeler ou envoyer un mail à un contact}
      Après avoir trouvé votre contact (voir paragraphe précédent), appuyez sur son nom et un menu apparaîtra. Celui-ci vous proposera:\\
      \begin{itemize}
      \renewcommand{\labelitemi}{$\bullet$}
      \item Appeler: Un appel sera lancé vers le numéro du contact. Si aucun numéro n'est disponible, l'option sera désactivée.
      \item Envoyer mail: Ouvre le gestionnaire d'e-mail du smartphone avec le champ destinataire pré-rempli avec l'adresse du contact.
      \end{itemize}


  \section{Export d'Emploi du Temps (Bordeaux1)}
    \subsection{Situation en ligne}
      Un menu s'ouvre, listant plusieurs niveaux d'études~[Fig.~\ref{fig:07}]. Ce premier choix mène ensuite au choix de la filière et du groupe~[Fig.~\ref{fig:08}].
      En appuyant sur le bouton \emph{Exporter}, l'emploi du temps sera téléchargé, puis ajouté dans le calendrier du smartphone.

    \subsection{Situation hors ligne}
      Un message s'affiche, indiquant à l'utilisateur qu'une connexion Internet est nécessaire à l'exportation de l'emploi du temps.

  \section{Plan du Campus de Bordeaux 1}
      L'application Google Maps du smartphone est lancée, centrée sur le campus et si possible, affiche le marqueur de position actuelle de l'utilisateur.
      Si l'utilisateur a désactivé son GPS et n'est pas en ligne, l'application affichera une simple image du plan du campus de Bordeaux 1 pour une utilisation hors ligne.



\chapter{Exemple d'utilisation}

Les images suivantes représentent un premier aperçu de l'interface graphique de l'application. Nous imaginons donc un scénario d'utilisation qui montre le déroulement d'un usage typique. 

\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/01}
    \caption{Lors du premier lancement de l'application, l'utilisateur doit choisir son établissement. Une fois son choix effectué, il est enregistré et ne sera plus demandé. L'établissement est modifiable via les préférences.}
    \label{fig:01}
  \end{minipage}
  \hspace{+20pt}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/02}
    \caption{Vue d'accueil pour Bordeaux~1}
    \label{fig:02}
  \end{minipage}
  \hspace{-60pt}
\end{figure}


\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/03}
    \caption{Evénements. Pour lire la news et arriver sur l'écran de la figure~\ref{fig:04}, il suffit de toucher la news correspondante.}
    \label{fig:03}
  \end{minipage}
  \hspace{+20pt}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/04}
    \caption{Le bouton ``plus'' situé en haut à droite permet d'ajouter l’événement au calendrier du smartphone.}
    \label{fig:04}
  \end{minipage}
  \hspace{-60pt}
\end{figure}


\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/05}
    \caption{Vue de l'annuaire.}
    \label{fig:05}
  \end{minipage}
  \hspace{+20pt}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/06}
    \caption{Vue des résultats de l'annuaire.}
    \label{fig:06}
  \end{minipage}
  \hspace{-60pt}
\end{figure}


\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/07}
    \caption{Export de l'emploi du temps. L'application demande la promotion seulement la première fois et il faudra aller dans les paramètres pour la modifier ultérieurement. }
    \label{fig:07}
  \end{minipage}
  \hspace{+20pt}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/08}
    \caption{Sélection des groupes pour l'export de l'emploi du temps.}
    \label{fig:08}
  \end{minipage}
  \hspace{-60pt}
\end{figure}


\begin{figure}
  \centering
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.8\textwidth]{resources/ui_preview/09}
    \caption{Vue d'accueil pour LaBRI}
    \label{fig:09}
  \end{minipage}
\end{figure}

\bibliography{biblio}
\end{document}
 
