\documentclass [pdftex,12pt] {report}
\usepackage [utf8]{inputenc}
\usepackage [french] {babel}
\usepackage[pdftex]{graphicx}
\usepackage{sidecap}
\usepackage{float}
\usepackage{natbib,hyperref}
\usepackage{indentfirst}
\usepackage[T1]{fontenc} 
\usepackage{amsfonts}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\bibliographystyle{unsrt}
\begin {document}

% Include the front page
\input{./frontpage.tex}

\newpage

\begin{abstract}
Ce document décrit le travail réalisé dans le contexte de notre projet de programmation. Le but de ce projet est de réaliser une application Android permettant d'accéder aux informations pertinentes des différents établissements du campus (Laboratoires, Universités, Ecoles). L'utilisateur choisit les établissements pour lesquels il veut accéder aux informations (dans un premier temps il n'y aura que Bordeaux 1 et LaBRI). L'application permet ensuite d'accéder aux annonces d'événements (en offrant la possibilité des les ajouter à l'agenda) et aux annuaires (en offrant la possibilité d'ajouter aux contacts du téléphone) sélectionnés.
L'idée est donc de rendre les informations liées aux établissements choisis plus faciles d'accès via un smartphone Android, afin de répondre à un besoin en déplacement, en donnant la possibilité d'enregistrer les informations importantes, et de les intégrer aux applications natives du téléphone, pour permettre une utilité de l'application lorsqu'une connexion internet n'est pas disponible.
\end{abstract}


\vspace{2cm}
\tableofcontents
\newpage 

\chapter{Etude de l'existant}
\section{Références}


\subsection{Android Application Development}
L'ouvrage \emph{Android Application Development}~\cite{AndroidBook} est considéré comme l'une des références majeures dans le domaine du développement des applications sur Android.
Il présente notamment l'architecture du système d'opération Android, ainsi que les différentes phases de développement des applications utilisateurs.

\subsection{Site officiel de la SDK Android}
Le site officiel de la SDK Android~\cite{AndroidSDK} met à disposition des développeurs une panoplie d'outils et de références.
Ce site présente ses divers services, notamment les API d'Android et autres services de Google. On y trouve aussi plusieurs domaines d'application utilisés aujourd'hui qu'on peut intégrer dans notre application.

\subsection{Article sur les applications mobiles des universités}
Cet article sur les applications mobiles des universités~\cite{Article} décrit les différentes contraintes liées au développement des applications mobiles d'universités. Etant donné que les étudiants sont de plus en plus équipés de smartphones, il devient intéressant de mettre en place une application mobile qui offre divers services utiles et faciles d'accès.


\section{Applications existantes}

\subsection{uMontréal}
Cette application propriétaire de l'université de Montréal~\cite{uMontreal} met à disposition de ses étudiants de nombreux services, tels que des flux d'actualités, un annuaire, un calendrier, et le plan du campus.

\subsection{Plateforme Blackboard}
Cette plateforme de développement est utilisée par la majorité des applications campus mobiles aux Etats-Unis~\cite{Blackboard}. On considère par exemple iStandford~\cite{iStanford}, application Android qui présente de nombreux services (internes et externes), dans la même philosophie que l'application uMontréal.

\subsection{gReader, lecteur de flux RSS}
Ce lecteur de flux RSS~\cite{gReader} offre une interface sobre et pratique pour gérer les abonnements aux flux RSS. Notre développement de l'interface graphique pourra s'inspirer du système des onglets et des toolbars de cette application.

\subsection{Lecteurs de flux RSS open-source}
Il existe déjà plusieurs lecteurs de flux RSS open-source, tels que Feedgoal~\cite{Feedgoal} et Android-RSS~\cite{Android-RSS}. les deux étant sous license GNU GPL (v2 et v3, respectivement). On pourra étudier s'il est rentable de reprendre quelques modules, ou de repartir sur notre propre base.


\section{Ressources existantes}

\subsection{LDAP}
Le protocole LDAP est une ressource potentiellement importante à la conception de notre application, notamment pour la mise en oeuvre de l'annuaire. LDAP signifie Lightweight Directory Access Protocol; c'est donc un protocole conçu uniquement pour les annuaires, et l'annuaire du LaBRI s'avère être conforme aux normes LDAP.
Ce sera donc une des technologies importantes à explorer afin de réaliser une réponse robuste au parsage de l'annuaire du LaBRI.\\
Nous nous sommes posés la question de l'accessibilité de l'annuaire venant de l'extérieur, au format LDAP, cependant nous avons trouvé une pas d'aide sur un forum du LaBRI\cite{labriForum} qui pourrait donner une solution éventuelle.

\subsection{HTTP/HTML}
Une alternative au protocole LDAP serait d'effectuer des requêtes HTTP, afin de parser des pages HTML. Cette méthode pourrait répondre aux besoins de parser les annuaires dont il en est question, si jamais nous ne pouvons nous reposer sur le LDAP. Le problème posé par cette méthode repose dans la robustesse de la solution. C'est-à-dire qu'un changement de l'implémentation des pages (changement/mise à jour de balises, ou même un changement de forme) pourrait rendre l'application inutilisable. L'utilisation de cette méthode demande énormément de travail de généricité du parsage des pages.
Ceci pose plusieurs problèmes, notamment sur l'imprévisibilité des changements potentielles dans les pages. Il est impossible de prévoir à 100\% les modifications qui pourraient avoir lieu sur les pages, et donc l'application pourrait rapidement devenir inutilisable. Il sera nécessaire de d'insipirer voire de réutiliser certains codes de web crawlers open source afin d'assurer d'avoir une application aussi robuste qu'elle puisse l'être en parsant des pages HTML.

\subsection{Analyse textuelle}
Au cours de l'implémentation de cette application, nous pourrions être amenés à effectuer de l'analyse textuelle sur des textes afin d'en extraire les informations dont nous avons besoin, par exemple si une date n'est pas au sein d'une balise facilement repérable/exploitable. Il faudra donc peut-être tenter d'extraire des dates des textes disponibles. Celà pose plusieurs problèmes:
\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
  \item Le texte peut faire référence à une événement passé, simplement à titre informatif, auquel cas, une date extraite n'aurait pas nécessairement de valeur à l'exploitation avec notre application.
  \item Le texte peut contenir plusieurs dates, faisant référence à plusieurs événements passés, présents, ou futurs et il sera donc difficile d'exploiter les informations et de découper le texte en plusieurs événements, ou encore d'extraire la date pertinente à l'événement.
  \item Le texte peut ne contenir aucune date, n'étant simplement qu'une information quelconque.
\end{itemize}
Etant donné ces problèmes, nous devrons surement trouver une approximation au problème, car nous ne pourrons proposer la bonne date à chaque fois qu'un utilisateur souhaite ajouter un élément à son agenda. Il sera donc parfois nécessaire de créer un menu qui s'ouvre automatiquement afin de proposer les dates qui ont été détectées par notre algorithme, et qui donne la possibilité à l'utilisateur de saisir sa propre date (ainsi on réduit de manière conséquente la marge d'erreur sur l'entrée finalisée dans l'agenda).
Il existe plusieurs outils utiles à l'implémentation d'une solution à ce problème, notamment JFlex/CUP. Ces outils ressortent pour nous, car leur utilisation nous est déjà familière. Cependant, on peut se poser la question sur la possibilité de les utiliser au sein d'un téléphone Android. Dans le cas contraire, nous pensons également explorer l'utilisation des librairies Android de correction automatique, afin de trouver une solution plus native aux téléphones.


\chapter{L'Application CampusUB1}
\section{Aperçu de l'application}

\subsection{Actualités}
Une des fonctionalités principales de l'application est la récupération, affichage et enregistrement des événements dans le calendrier de l'utilisateur. 
Pour cela, nous prévoyons de récuperer les flux RSS les plus utiles de l'université Bordeaux 1\cite{fluxBDX1}, notamment les flux disponibles sur la page d'accueil du site de l'université (dont les actualités).
En ce qui concerne le site du LaBRI, il n'y à aucun flux RSS et il faudra donc parser directement du HTML.

\subsection{Annuaire}
Il sera également possible de consulter les annuaires des établissements concernés, afin d'en extraire les informations désirées et les ajouter aux contacts du smartphone.
Afin d'implémenter l'annuaire au sein de notre application Android, il est évident qu'il faut exploiter les annuaires de Bordeaux 1~\cite{AnnuaireBdx1} et du LaBRI. Vu que les accès aux bases de données ne peuvent pas nous être communiqués, nous pensons intégrer l'annuaire à travers des requêtes GET, dans le but de parser les résultats obtenus. Pour le moment ceci semble être la meilleure solution envisageable.

\subsection{Utilitaires}
Dans un deuxième temps, nous prévoyons de mettre en place un plan du campus, potentiellement intégré à l'application Maps du smartphone.
Finalement, nous parserons les fichiers XML des emplois du temps\cite{EdTxml}, afin de mettre à disposition une copie locale de l'emploi du temps dans l'agenda du smartphone.


\chapter{Analyse des besoins}

\section{Besoins fonctionnels}
\subsection{Fonctionnalités principales}
\subsubsection{Choix de l'établissement}
Etant donné que l'application présentera des services pour deux établissements différents, l'utilisateur doit pouvoir naviguer entre les établissements, s'il souhaite accéder à leurs services et informations [Fig.~\ref{fig:01}]. \\

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 5/5
\item Faisabilité: 5/5
\item Risques: mise à jour des URLs si les adresses des établissements sont modifiées.
\item Validation: s'assurer que les séléctions et les changements d'établissements s'effectuent correctement.
\end{itemize}

\subsubsection{Gestion des actualités}
En accédant au menu des actualités, l'utilisateur disposera d'une interface à travers laquelle il recevra le flux des actualités de l'établissement [Fig.~\ref{fig:02}]. L'utilisateur doit pouvoir lire l'annonce de ces événements [Fig.~\ref{fig:03}], et doit pouvoir facilement rajouter cet événement au calendrier de son smartphone (Google Calendar). Cette action redirigera l'utilisateur vers le calendrier, dans lequel l'événement sera créé avec les informations récoltées. L'utilisateur pourra donc modifier, valider ou annuler la procédure.

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 5/5
\item Faisabilité: 3.5/5
\item Difficultés techniques: extraction des informations pertinentes.
\item Risques: changement de structure du contenu à parser (flux RSS et pages HTML).
\item Validation: assurer l'intégrité des informations extraites.
\end{itemize}

\subsubsection{Accès à l'annuaire}
L'utilisateur doit pouvoir effectuer facilement les taches suivantes:
\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Rechercher un contact dans l'annuaire par son nom et/ou prénom.
\item Visualiser les informations d'un contact.
\item Rajouter un contact à la liste des contacts de l'utilisateur (créer un nouveau contact ou éditer existant).
\item Envoyer un mail au contact.
\item Appeler la personne (si un numéro de téléphone est disponible).
\end{itemize}
Lors de l'ajout d'un contact, l'utilisateur sera redirigé vers la page de création d'un nouveau contact, dans laquelle les champs pertinents seront pré-remplis, en fonction des informations collectées. L'utilisateur pourra donc modifier, valider ou annuler la procédure.

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 5/5
\item Faisabilité: 4/5
\item Difficultés techniques:
\begin{itemize}
\item Avec LDAP: mise en place du protocole.
\item Sans LDAP: parsage des informations.
\end{itemize} 
\item Risques: changement de structure du contenu à parser.
\item Validation: assurer l'intégrité des informations extraites.
\end{itemize}

\subsubsection{Mises à jour}
Notre application pouvant fonctionner hors connexion, les mises à jour de flux RSS étant de type pull, il est important de proposer les mises à jour sur les flux que nous parsons. Par exemple après une longue période sans connexion nous pourrons sauter sur l'occasion de proposer des mises à jour des flux dès que l'utilisateur ouvre l'application et qu'une connexion internet est disponible. Une autre solution serait de mettre à disposition un bouton \emph{refresh} pour que l'utilisateur puisse effectuer une demande de mise à jour (option préférable pour les personnes ayant un forfait internet limité, ou encore pour l'utilisation à l'étranger). Ou encore nous pourrions proposer une solution intermédiaire, où l'application effectue des mises à jour régulières lorsqu'elle est connectée sur un réseau via le WiFi, mais requiert une demande explicite si le réseau est de type 3G. \\
L'application devra garder en mémoire les derniers éléments téléchargés pendant un mois après la date de l'événement(durée à revoir éventuellement). Ainsi lorsque l'on a pas accès à internet, on pourra accèder à ceux-ci. De plus, lors des mises à jour, on téléchargera uniquement les nouveaux événements. Ceci permettra à l'application d'économiser du temps d'éxécution, et potentiellement du crédit à l'utilisateur.

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 5/5
\item Faisabilité: 3.5/5
\item Risques: mauvaise gestion de mémoire.
\item Difficultés techniques: éviter de télécharger de nouveau des informations déja collectées.
\item Validation: vérifier l'intégration des nouvelles informations.
\end{itemize}


\subsection{Fonctionnalités secondaires}
Dans un deuxième temps, nous comptons implémenter quelques optionalités supplémentaires, qui ne rentrent pas dans le cadre du projet initial, mais qu'on estime être assez pratiques et utiles, et permettront de compléter l'application.

\subsubsection{Emploi du temps}
L'utilisateur étudiant doit pouvoir récupérer son emploi de temps du semestre et l'intégrer à Google Calendar. Il doit pouvoir indiquer son groupe, et éventuellement ses cours et ses groupes.

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 1.5/5
\item Faisabilité: 2.5/5
\item Difficultés techniques: extraction des informations en fonction du choix de l'utilisateur.
\item Risques: changement du format de l'emploi du temps.
\item Validation: assurer l'intégrité des données extraites.
\end{itemize}

\subsubsection{Plan du campus}
L'utilisateur pourra naviguer sur le plan du campus en utilisant Google Maps. L'utilisateur disposera des pointeurs vers les bâtiments principaux du campus. 

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 1/5
\item Faisabilité: 2.5/5
\item Difficultés techniques: maîtriser l'API de Google Maps.
\end{itemize}

% Requetes GET dans la section HTTP
% Analyse textuelle: détection de l'heure des événements

% IEEE, gParted



\section{Besoins non fonctionnels}
\subsection{Besoins de performance}
L'application CampusUB1 est destinée à toute personne étudiant ou travaillant sur le campus de l'université. Elle devra donc être capable de tourner sur les derniers smartphones, tout en restant compatible avec des smartphones plus anciens et donc moins puissants puisque tout étudiant n'a pas forcément les moyens d'aborder un smartphone récent ayant une forte puissance de calcul et une grande quantité de RAM. CampusUB1 ne sera donc pas gourmande en ressources et pourra éxécuter ces services de manière assez rapide même sur les smartphones moins performants. 

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 3/5
\item Faisabilité: 5/5
\item Difficultés techniques: bonne gestion de l'espace mémoire et de l'actualisation.
\item Risques: implémention complexe et potentiellement longue.
\item Validation: vérification que l'utilisation reste assez fluide et ne consomme pas beaucoup de ressources (à préciser un seuil de consommation de RAM).
\end{itemize}  

\subsection{Besoins de fiabilité}
Etant donné que les différents services mis à disposition par CampusUB1 à ses clients s'avèrent souvent être d'un besoin professionnel, il est essentiel que les données affichées soient cohérentes et en accord avec les données d'origine. Si un chercheur du LaBRI recherche depuis notre application le numéro de la salle où a lieu sa conférence, il a tout intérêt à récupérer une information correcte. CampusUB1 ne peut tout de même pas garantir l'exactitude de toutes les informations données et ne se tient donc pas responsable d'éventuelles erreurs, sachant que l'application se base sur des algorithmes de reconnsaissance de textes qui peuvent eux-mêmes être érronés d'origine. Il est évident que certaines questions de sécurité courantes se posent sachant que l'application nécéssite une connection à internet continue, mais vu que CampusUB1 utilise uniquement des données publiques dans les services qu'elle fournit, la question de confidentialité de données ne se pose pas.

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 4.5/5
\item Faisabilité: 3.5/5
\item Difficultés techniques: fiabilité de l'algorithme d'analyse textuelle pour détecter les dates des événements.
\item Risques: création d'un événement avec des données érronées.
\item Validation: simulation de l'algorithme d'analyse textuelle sur suffisamment de données pour avoir un taux de réussite acceptable (à détérminer).
\end{itemize}  

\subsection{Besoins d'intégrité de données}
CampusUB1 doit accéder à certaines ressources personnelles du client pour pouvoir fonctionner, ce qui pose un problème de protection de données. Le calendrier et le répertoire du client sont les ressources auxquelles l'application est susceptible d'accéder, et on devra s'assurer que toute éventuelle perte de données déjà existantes ne soit pas engendrée par une erreur provenant de l'application, l'erreur humaine étant évidemment toujours possible. Toute éventuelle  modification de données privées de l'utilisateur se fera donc impérativement avec son avis. 

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 4.5/5
\item Faisabilité: 4.5/5
\item Risques: perte des informations existantes sur le smartphone.
\item Validation: monitoring du comportement de l'application.
\end{itemize} 

\subsection{Facilité d'utilisation}
Etant donné que les utilisateurs visés ne sont pas forcément familiers avec le domaine informatique et sont généralement des étudiants ou chercheurs provenant de différentes filières, l'application est volontairement très simple d'un point de vue visuel, et est très facile à prendre en main. L'interface graphique est très ``user-friendly'' et l'écran d'accueil contient simplement une liste de boutons permettant à l'utilisateur d'accéder aux différents services de l'application. Quel que soit le type d'utilisateur, il ne devrait donc avoir aucun problème pour utiliser les fonctionnalités de l'application.  

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 4/5
\item Faisabilité: 4/5
\item Difficultés techniques: élaboration d'une interface graphique ergonomique.
\item Risques: la conception de l'interface graphique peut demander beaucoup de temps.
\item Validation: validation auprès des clients.
\end{itemize} 

\subsection{Portabilité}
La seule contrainte imposée par CampusUB1 est d'avoir au minimum la version Android 4.0 (Ice Cream Sandwich), vu que celle-ci est déjà très répandue, et qu'elle offre plusieures nouveautés pour les développeurs, notamment une meilleure gestion des layouts des interfaces.

\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
\item Priorité: 4/5
\item Faisabilité: 5/5
\item Difficultés techniques: utilisation de l'API 14 d'Android.
\item Validation: vérification du bon fonctionnement de l'application sur divers smartphones différents.
\end{itemize} 

\subsection{Besoins organisationnels}
Etant donné que nous travaillerons sur la plateforme Android, le language Java nous est imposé vu que l'API Android est fournie en Java.
L'IDE dans lequel nous avons choisi d'implémenter notre application est Eclipse pour de nombreuses questions pratiques. Les développeurs d'Android possédent un plugin pour Eclipse officiel, qui facilite la vie du développeur en lui fournissant une panoplie d'outils tels que les différentes perspectives dont celle de débogage qui nous sera très utile. Ce plugin comporte également un émulateur d'appareils Android, ce qui nous permettra de facilement tester l'application sur une multitude d'appareils. De plus, l'API Android est très documentée et souvent maintenue.



\chapter{Diagrammes de fonctionnement}

\section{Diagramme de cas d'utilisation}

\begin{figure}[h]
  \center
  \includegraphics[width=0.8\textwidth]{resources/useCases.jpg}
\end{figure}

\newpage
Ce diagramme présente toutes les actions réalisables par l'utilisateur et leurs enchaînements.
Lorsque l'utilisateur démarre l'application pour la première fois, il choisit l'établissement auprès du quel il veut s'abonner pour accéder uniquement à ses services. Ce choix est alors retenu, et cette étape est donc omise lors des futurs démarrages de l'application. Une option existera tout de même pour modifier cette selection si nécessaire. Depuis l'écran d'acceuil, l'utilisateur pourra alors accéder aux services de son choix et pourra à tout moment revenir en arrière facilement.

\section{Diagramme de mises à jour}

\begin{figure}[h]
  \center
  \includegraphics[width=0.6\textwidth]{resources/state_diagram.jpg}
\end{figure}

Le diagramme de mises à jour représente les différents modes de connection dans lesquels on peut se trouver lorsqu'on accède aux événements. Il y a trois modes possibles gérés par le téléphone :\\
\begin{itemize}
\renewcommand{\labelitemi}{$\bullet$}
 \item Hors Ligne : pas d'accès à internet.
 \item 3G :  accès au réseau de données mobiles (lent).
 \item WiFi : accès à un réseau sans-fil (rapide).
\end{itemize}



\chapter{Exemple d'utilisation}

\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/01}
    \caption{Lors du premier lancement de l'application, l'utilisateur doit choisir son établissement. Une fois son choix effectué, il est enregistré et ne sera plus demandé. L'établissement est modifiable via les préférences.}
    \label{fig:01}
  \end{minipage}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/02}
    \caption{Bordeaux 1}
    \label{fig:02}
  \end{minipage}
\end{figure}


\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/03}
    \caption{Evénements. Pour lire la news et arriver sur l'écran de la figure 4.4, il suffit de toucher la news correspondante.}
    \label{fig:03}
  \end{minipage}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/04}
    \caption{Le bouton ``plus'' situé en haut à droite permet d'ajouter l’événement au calendrier du smartphone.}
    \label{fig:04}
  \end{minipage}
\end{figure}


\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/05}
    \caption{Annuaire}
    \label{fig:05}
  \end{minipage}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/06}
    \caption{Annuaire}
    \label{fig:06}
  \end{minipage}
\end{figure}


\begin{figure}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/07}
    \caption{Export de l'emploi du temps. L'application demande la promotion seulement la première fois et il faudra aller dans les paramètres pour la modifier ultérieurement. }
    \label{fig:07}
  \end{minipage}
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/08}
    \caption{Sélection des groupes pour l'export de l'emploi du temps.}
    \label{fig:08}
  \end{minipage}
\end{figure}


\begin{figure}
  \centering
  \begin{minipage}[t]{8cm}
    \centering
    \includegraphics[width=0.9\textwidth]{resources/ui_preview/09}
    \caption{Labri}
    \label{fig:09}
  \end{minipage}
\end{figure}

\bibliography{biblio}
\end{document}
 
